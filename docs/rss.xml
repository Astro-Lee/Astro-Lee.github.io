<?xml version='1.0' encoding='UTF-8'?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" version="2.0"><channel><title>Blog Title</title><link>https://Astro-Lee.github.io/astro-lee.github.io</link><description>Blog description</description><copyright>Blog Title</copyright><docs>http://www.rssboard.org/rss-specification</docs><generator>python-feedgen</generator><image><url>https://github.githubassets.com/favicons/favicon.svg</url><title>avatar</title><link>https://Astro-Lee.github.io/astro-lee.github.io</link></image><lastBuildDate>Sat, 20 Apr 2024 11:06:16 +0000</lastBuildDate><managingEditor>Blog Title</managingEditor><ttl>60</ttl><webMaster>Blog Title</webMaster><item><title>Build deb package</title><link>https://Astro-Lee.github.io/astro-lee.github.io/post/Build%20deb%20package.html</link><description>Build deb package.&#13;
本文介绍deb的构建方式&#13;
&#13;
```bash&#13;
DEBMAIL="xxxx@gamil.com"&#13;
DEBFULLNAME="XXX"&#13;
DEBSIGN_KEYID="xyrtyfhfghgfhfg"&#13;
export DEBMAIL DEBFULLNAME DEBSIGN_KEYID&#13;
```&#13;
&#13;
&#13;
```bash&#13;
gpg --full-generate-key --expert&#13;
gpg --armor --export id&#13;
dpkg-source --commit #修改过上游版本，需要commit&#13;
debuild -S -sa -k$DEBSIGN_KEYID | tee /tmp/debuild.log 2&gt;&amp;1&#13;
dupload XXX.changes&#13;
dput -f ppa:ruizhi-li/astrosoftware XXX.changes&#13;
```&#13;
&#13;
&#13;
`psfex-3.24.1.tar.gz` 和 `psfex-3.24.1`&#13;
```bash&#13;
cd psfex-3.24.1&#13;
dh_make -f ../psfex-3.24.1.tar.gz&#13;
./autogen.sh &amp;&amp; ./configure&#13;
```&#13;
&#13;
修改过上游版本，需要commit `dpkg-source --commit`&#13;
&#13;
编辑`debian/changelog`&#13;
![image](https://github.com/Astro-Lee/astro-lee.github.io/assets/61745903/431d2007-3b7c-42ea-bc9f-83b47ca23b06)&#13;
&#13;
```bash&#13;
debuild -S -sa -k$DEBSIGN_KEYID | tee /tmp/debuild.log 2&gt;&amp;1&#13;
# 输入签名的密码&#13;
```&#13;
```bash&#13;
dput -f ppa:ruizhi-li/astrosoftware ../XXX.changes&#13;
```&#13;
# 参考&#13;
- [Debian 新维护者手册](https://www.debian.org/doc/manuals/maint-guide/index.zh-cn.html)&#13;
- [Astropy Packaging Tutorial](https://wiki.debian.org/DebianAstro/AstropyPackagingTutorial/Preparation)&#13;
- [如何发布自己的"个人软件包存档](https://briteming.blogspot.com/2018/06/blog-post_58.html)&#13;
- [发布你的开源软件到 Ubuntu PPA](https://hedzr.com/packaging/deb/publishing-and-hosting-your-own-dev-at-ppa/)。</description><guid isPermaLink="true">https://Astro-Lee.github.io/astro-lee.github.io/post/Build%20deb%20package.html</guid><pubDate>Sat, 20 Apr 2024 07:02:48 +0000</pubDate></item></channel></rss>